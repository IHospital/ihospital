<!DOCTYPE html>
<html>

<head>
    <!-- 页面meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">




    <title>Doctor Diagnostic Record Details</title>
    <meta name="description" content="AdminLTE2定制版">
    <meta name="keywords" content="AdminLTE2定制版">




    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">

  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

    <link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../plugins/ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="../plugins/iCheck/square/blue.css">
    <link rel="stylesheet" href="../plugins/morris/morris.css">
    <link rel="stylesheet" href="../plugins/jvectormap/jquery-jvectormap-1.2.2.css">
    <link rel="stylesheet" href="../plugins/datepicker/datepicker3.css">
    <link rel="stylesheet" href="../plugins/daterangepicker/daterangepicker.css">
    <link rel="stylesheet" href="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
    <link rel="stylesheet" href="../plugins/datatables/dataTables.bootstrap.css">
    <link rel="stylesheet" href="../plugins/treeTable/jquery.treetable.css">
    <link rel="stylesheet" href="../plugins/treeTable/jquery.treetable.theme.default.css">
    <link rel="stylesheet" href="../plugins/select2/select2.css">
    <link rel="stylesheet" href="../plugins/colorpicker/bootstrap-colorpicker.min.css">
    <link rel="stylesheet" href="../plugins/bootstrap-markdown/css/bootstrap-markdown.min.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../plugins/ionslider/ion.rangeSlider.css">
    <link rel="stylesheet" href="../plugins/ionslider/ion.rangeSlider.skinNice.css">
    <link rel="stylesheet" href="../plugins/bootstrap-slider/slider.css">
    <link rel="stylesheet" href="../plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.css">
    <link rel="stylesheet" href="../plugins/bootstrap-fileinput-master/css/fileinput.min.css">
    <link rel="stylesheet" href="../plugins/angularjs/pagination.css">



</head>

<body class="hold-transition skin-purple sidebar-mini" ng-app="ihospital" ng-controller="medicalRecordInfoController" ng-init="initInfo()">

    <div class="wrapper">

        <!-- 页面头部 -->
        
		
		
		
		

		<header class="main-header">
            <!-- Logo -->
            <a href="#" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>OS</b></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><b>Outpatient System</b></span>
            </a>


            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
			
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
					<span class="sr-only">Toggle navigation</span>
				</a>

                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        
                        
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<img src="../img/user2-160x160.jpg" class="user-image" alt="User Image">
							<span class="hidden-xs">请叫我{{medicalRecordInfo.physicianName}}</span>
							</a>
                            <ul class="dropdown-menu">
                                <!-- User image -->
                                <li class="user-header">
                                    <img src="../img/user2-160x160.jpg" class="img-circle" alt="User Image">

                                    <p>
                                        还不知道叫啥
										
                                        <small>Director of Respiration Department</small>
                                    </p>
                                </li>

                                <li class="user-footer">
                                    <div class="pull-left">
                                        <a href="#" class="btn btn-default btn-flat">Setting</a>
                                    </div>
                                    <div class="pull-right">
                                        <a href="../logout" class="btn btn-default btn-flat">Log out</a>
                                    </div>
                                </li>
                            </ul>
                        </li>

                    </ul>
                </div>
            </nav>
		</header>
        
		
		
		
		
		
        <!-- 页面头部 /-->

        <!-- 导航侧栏 -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="../img/user2-160x160.jpg" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                        <p> 请叫我{{medicalRecordInfo.physicianName}}</p>
                        <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    </div>
                </div>


                <ul class="sidebar-menu">
                    <li class="header">Menu</li>

                    <li id="admin-index" style="..."><a onclick="window.location.href='all-doctor-personalcenter.html'" ><i class="fa fa-dashboard"></i> <span>Personal Center</span></a></li>
					<li id="admin-index" style="..."><a onclick="window.location.href='all-doctor-startwork.html'"><i class="fa fa-dashboard"></i> <span>Start Working</span></a></li>
					<li id="admin-index" style="..."><a onclick="window.location.href='all-doctor-treatmenttable.html'" ><i class="fa fa-dashboard"></i> <span>Diagnostic Record</span></a></li>


                </ul>
            </section>
            <!-- /.sidebar -->
        </aside>
        <!-- 导航侧栏 /-->

       <!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Diagnostic Details
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="#">Doctor</a></li>
			<li><a href="all-doctor-treatmenttable.html">Diagnostic Record</a></li>
            <li class="active">Diagnostic Details</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">

        
            
			
				    <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Diagnostic Report</h3>
                    </div>
                    <!-- /.box-header -->
                    <!-- form start -->
                        <form role="form">
                            <div class="box-body">
                                <div class="form-group">
                                    <div class="row data-type">


                                        <div class="col-md-1 title">No.</div>
                                        <div class="col-md-2 data text">
                                            {{medicalRecordInfo.pathoId}}
                                        </div>

                                        <div class="col-md-1 title">Time</div>
                                        <div class="col-md-2 data text">
                                            {{medicalRecordInfo.time}}
                                        </div>

                                        <div class="col-md-1 title">DepartmentName</div>
                                        <div class="col-md-2 data text">
                                            {{medicalRecordInfo.departName}}
                                        </div>

                                        <div class="col-md-1 title">DoctorName</div>
                                        <div class="col-md-2 data text">
                                            {{medicalRecordInfo.physicianName}}
                                        </div>
                                        <div class="col-md-1 title">PatientName</div>
                                        <div class="col-md-2 data text">
                                            {{medicalRecordInfo.patientName}}
                                        </div>

                                        <div class="col-md-1 title">Sex</div>
                                        <div class="col-md-2 data text">
                                            {{patient.patientGenderStr}}
                                        </div>

                                        <div class="col-md-1 title">Age</div>
                                        <div class="col-md-2 data text">
                                            {{patient.patientAge}}
                                        </div>

                                        <div class="col-md-1 title">Type</div>
                                        <div class="col-md-2 data text">
                                            {{appointment.priorityStr}}
                                        </div>

                                        <div class="col-md-1 title rowHeight2x">Details</div>
                                        <div class="col-md-11 data rowHeight2x">
                                            <textarea class="form-control" rows="3" disabled="disabled">{{medicalRecordInfo.diagnosis}}</textarea>
                                        </div>
                                        <div class="col-md-1 title">Prescription</div>
                                        <div class="col-md-11 data text">

                                        </div>
                                        <div ng-repeat="entity in list">
                                            <div class="col-md-1 title">药名</div>
                                            <div class="col-md-3 data text">
                                                {{entity.medicineName}}
                                            </div>

                                            <div class="col-md-1 title">Num</div>
                                            <div class="col-md-3 data text">
                                                {{entity.num}}
                                            </div>

                                            <div class="col-md-1 title">Price</div>
                                            <div class="col-md-3 data text">
                                                {{entity.medicinePrice}} RMB
                                            </div>
                                        </div>

                                        <div class="col-md-1 title">Total</div>
                                        <div class="col-md-11 data text">
                                            {{total}}   RMB
                                        </div>
                                        <div class="col-md-1 title rowHeight2x">Advice</div>
                                        <div class="col-md-11 data text rowHeight2x">
                                            <textarea class="form-control" rows="3"  disabled="disabled"> {{medicalRecordInfo.narrative}}</textarea>
                                        </div>

                                    </div>


                                </div>

                            </div>

                        </form>
                </div>
				
				
				
				 <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Registration Form</h3>
                    </div>
                    <!-- /.box-header -->
                    <!-- form start -->
                     <form role="form">
                         <div class="box-body">
                             <div class="form-group">
                                 <div class="row data-type">

                                     <div class="col-md-1 title">No.</div>
                                     <div class="col-md-2 data text">
                                         {{medicalRecordInfo.appointmentId}}
                                     </div>

                                     <div class="col-md-1 title">R-Time</div>
                                     <div class="col-md-2 data text">
                                         {{appointment.appointTime}}
                                     </div>
                                     <div class="col-md-1 title">D-Time</div>
                                     <div class="col-md-2 data text">
                                         {{appointment.treatTime}}
                                     </div>

                                     <div class="col-md-1 title">Dept.</div>
                                     <div class="col-md-2 data text">
                                         {{medicalRecordInfo.departName}}
                                     </div>

                                     <div class="col-md-1 title">Name</div>
                                     <div class="col-md-2 data text">
                                         {{medicalRecordInfo.patientName}}
                                     </div>

                                     <div class="col-md-1 title">Sex</div>
                                     <div class="col-md-2 data text">
                                         {{patient.patientGenderStr}}
                                     </div>

                                     <div class="col-md-1 title">Age</div>
                                     <div class="col-md-2 data text">
                                         {{patient.patientAge}}
                                     </div>

                                     <div class="col-md-1 title">Type</div>
                                     <div class="col-md-2 data text">
                                         {{appointment.priorityStr}}
                                     </div>

                                 </div>

                             </div>

                         </div>

                     </form>
                </div>
			
        <!-- /.row -->
        
    </section>
    <!-- /.content -->
		</div>
<!-- /.content-wrapper -->



			<!-- 底部导航 -->
			<footer class="main-footer">
				<div class="pull-right hidden-xs">
                <b>Version</b> 1.0.0
				</div>
				<strong>Copyright &copy; 2019 Team Nine </a>.</strong> All rights reserved.
			</footer>
        <!-- 底部导航 /-->

    </div>

    <script src="../plugins/angularjs/pagination.js"></script>
    <script type="text/javascript" src="../plugins/angularjs/angular.min.js"></script>
    <script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
    <script src="../plugins/jQueryUI/jquery-ui.min.js"></script>
    <script>
        $.widget.bridge('uibutton', $.ui.button);
    </script>
    <script src="../plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="../plugins/raphael/raphael-min.js"></script>
    <script src="../plugins/morris/morris.min.js"></script>
    <script src="../plugins/sparkline/jquery.sparkline.min.js"></script>
    <script src="../plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="../plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <script src="../plugins/knob/jquery.knob.js"></script>
    <script src="../plugins/daterangepicker/moment.min.js"></script>
    <script src="../plugins/daterangepicker/daterangepicker.js"></script>
    <script src="../plugins/daterangepicker/daterangepicker.zh-CN.js"></script>
    <script src="../plugins/datepicker/bootstrap-datepicker.js"></script>
    <script src="../plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js"></script>
    <script src="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
    <script src="../plugins/slimScroll/jquery.slimscroll.min.js"></script>
    <script src="../plugins/fastclick/fastclick.js"></script>
    <script src="../plugins/iCheck/icheck.min.js"></script>
    <script src="../plugins/adminLTE/js/app.min.js"></script>
    <script src="../plugins/treeTable/jquery.treetable.js"></script>

    <script src="../plugins/colorpicker/bootstrap-colorpicker.min.js"></script>
    <script src="../plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.zh-CN.js"></script>
    <script src="../plugins/bootstrap-markdown/js/bootstrap-markdown.js"></script>
    <script src="../plugins/bootstrap-markdown/locale/bootstrap-markdown.zh.js"></script>
    <script src="../plugins/bootstrap-markdown/js/markdown.js"></script>
    <script src="../plugins/bootstrap-markdown/js/to-markdown.js"></script>
    <script src="../plugins/ckeditor/ckeditor.js"></script>
    <script src="../plugins/input-mask/jquery.inputmask.js"></script>
    <script src="../plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
    <script src="../plugins/input-mask/jquery.inputmask.extensions.js"></script>
    <script src="../plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="../plugins/datatables/dataTables.bootstrap.min.js"></script>
    <script src="../plugins/chartjs/Chart.min.js"></script>
    <script src="../plugins/flot/jquery.flot.min.js"></script>
    <script src="../plugins/flot/jquery.flot.resize.min.js"></script>
    <script src="../plugins/flot/jquery.flot.pie.min.js"></script>
    <script src="../plugins/flot/jquery.flot.categories.min.js"></script>
    <script src="../plugins/ionslider/ion.rangeSlider.min.js"></script>
    <script src="../plugins/bootstrap-slider/bootstrap-slider.js"></script>
    <script src="../plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>
    <script src="../plugins/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="../plugins/bootstrap-fileinput-master/js/fileinput.min.js"></script>
    <script src="../plugins/bootstrap-fileinput-master/js/fileinput.min.js"></script>
    <script src="../plugins/bootstrap-fileinput-master/themes/fa/theme.min.js"></script>

    <script type="text/javascript" >
        var app=angular.module('ihospital',[]);
        app.service('loginService',function ($http) {

            this.loginName=function () {

                return $http.get('../login/name.do');

            }

        });
        app.config(['$locationProvider',function($locationProvider){
            $locationProvider.html5Mode(true);
        }]);
        app.controller("medicalRecordInfoController",function($scope,$http,$filter,$location,loginService){
            var id="";

            if($location.search().id){
                id=$location.search().id;
            }
            $scope.medicalRecordInfo={};
            $scope.patient={};
            $scope.appointment={};
            //获取登录名
            $scope.showLoginName = function () {
                loginService.loginName().success(
                    function (response) {
                        $scope.loginName=response.loginName;
                    }
                )
            };
            $scope.findOneMedicalRecord=function(){
                if(id!==""){

                    $http.get('../medicalRecord/findOneMedicalRecord.do?id='+id).success(
                        function(response){
                            $scope.medicalRecordInfo=response;
                            $scope.medicalRecordInfo.pathoId=response.pathoId;
                            $scope.medicalRecordInfo.time=$filter("date")(response.time,"yyyy-MM-dd HH:mm:ss");
                            $scope.medicalRecordInfo.appointmentId=response.appointmentId;
                            $scope.medicalRecordInfo.departName=response.departName;
                            $scope.medicalRecordInfo.physicianName=response.physicianName;
                            $scope.medicalRecordInfo.physicianId=response.physicianId;
                            $scope.medicalRecordInfo.patientId=response.patientId;
                            $scope.medicalRecordInfo.patientName=response.patientName;
                            $scope.medicalRecordInfo.diagnosis=response.diagnosis;
                            $scope.medicalRecordInfo.narrative=response.narrative;
                            $scope.medicalRecordInfo.pathoValid=response.pathoValid;
                        }
                    );
                }

            };
            $scope.findPatientByPathoId=function(){
                if(id!==""){

                    $http.get('../medicalRecord/findPatientByPathoId.do?id='+id).success(
                        function(response){
                            $scope.patient=response;
                            $scope.patient.patientGenderStr=response.patientGenderStr;
                            $scope.patient.patientAge=response.patientAge;

                        }
                    );
                }

            };
            $scope.findAppointmentByPathoId=function(){
                if(id!==""){

                    $http.get('../medicalRecord/findAppointmentByPathoId.do?id='+id).success(
                        function(response){
                            $scope.appointment=response;
                            // $scope.appointment.time=$filter("date")(response.time,"yyyy-MM-dd HH:mm:ss");

                            $scope.appointment.treatTime=response.treatTime;
                            $scope.appointment.appointTime=response.appointTime;
                            $scope.appointment.priorityStr=response.priorityStr;


                        }
                    );
                }

            };
            $scope.findMedicineInformationByPathoId=function(){
                if(id!==""){

                    $http.get('../medicalRecord/findMedicineInformationByPathoId.do?id='+id).success(
                        function(response){
                            $scope.list=response.medicineRows;
                            $scope.total=response.total;
                        }
                    );
                }

            };

            //加载页面时执行该函数，用ng-init标签写在body标签里
            $scope.initInfo=function () {

                $scope.findOneMedicalRecord();
                $scope.findPatientByPathoId();
                $scope.findAppointmentByPathoId();
                $scope.findMedicineInformationByPathoId();

            }

        });

    </script>

   <script>
        $(document).ready(function() {
            // 选择框
            $(".select2").select2();

            // WYSIHTML5编辑器
            $(".textarea").wysihtml5({
                locale: 'zh-CN'
            });
        });


        // 设置激活菜单
        function setSidebarActive(tagUri) {
            var liObj = $("#" + tagUri);
            if (liObj.length > 0) {
                liObj.parent().parent().addClass("active");
                liObj.addClass("active");
            }
        }


        $(document).ready(function() {
            setSidebarActive("admin-blank");
        });
		
    </script>
</body>

</html>