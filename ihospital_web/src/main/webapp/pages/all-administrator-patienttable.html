<!DOCTYPE html>
<html>

<head>
  <!-- 页面meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">


  <title>Background Management</title>
  <meta name="description" content="AdminLTE2定制版">
  <meta name="keywords" content="AdminLTE2定制版">


  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.6 -->
  <!-- Font Awesome -->
  <!-- Ionicons -->
  <!-- iCheck -->
  <!-- Morris chart -->
  <!-- jvectormap -->
  <!-- Date Picker -->
  <!-- Daterange picker -->
  <!-- Bootstrap time Picker -->
  <!--<link rel="stylesheet" href="../../../plugins/timepicker/bootstrap-timepicker.min.css">-->
  <!-- bootstrap wysihtml5 - text editor -->
  <!--数据表格-->
  <!-- 表格树 -->
  <!-- select2 -->
  <!-- Bootstrap Color Picker -->
  <!-- bootstrap wysihtml5 - text editor -->
  <!--bootstrap-markdown-->
  <!-- Theme style -->
  <!-- AdminLTE Skins. Choose a skin from the css/skins
     folder instead of downloading all of them to reduce the load. -->
  <!-- Ion Slider -->
  <!-- ion slider Nice -->
  <!-- bootstrap slider -->
  <!-- bootstrap-datetimepicker -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->


  <!-- jQuery 2.2.3 -->
  <!-- jQuery UI 1.11.4 -->
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <!-- Bootstrap 3.3.6 -->
  <!-- Morris.js charts -->
  <!-- Sparkline -->
  <!-- jvectormap -->
  <!-- jQuery Knob Chart -->
  <!-- daterangepicker -->
  <!-- datepicker -->
  <!-- Bootstrap WYSIHTML5 -->
  <!-- Slimscroll -->
  <!-- FastClick -->
  <!-- iCheck -->
  <!-- AdminLTE App -->
  <!-- 表格树 -->
  <!-- select2 -->
  <!-- bootstrap color picker -->
  <!-- bootstrap time picker -->
  <!--<script src="../../../plugins/timepicker/bootstrap-timepicker.min.js"></script>-->
  <!-- Bootstrap WYSIHTML5 -->
  <!--bootstrap-markdown-->
  <!-- CK Editor -->
  <!-- InputMask -->
  <!-- DataTables -->
  <!-- ChartJS 1.0.1 -->
  <!-- FLOT CHARTS -->
  <!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized -->
  <!-- FLOT PIE PLUGIN - also used to draw donut charts -->
  <!-- FLOT CATEGORIES PLUGIN - Used to draw bar charts -->
  <!-- jQuery Knob -->
  <!-- Sparkline -->
  <!-- Morris.js charts -->
  <!-- Ion Slider -->
  <!-- Bootstrap slider -->
  <!-- bootstrap-datetimepicker -->
  <!-- 页面meta /-->

  <link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="../plugins/ionicons/css/ionicons.min.css">
  <link rel="stylesheet" href="../plugins/iCheck/square/blue.css">
  <link rel="stylesheet" href="../plugins/morris/morris.css">
  <link rel="stylesheet" href="../plugins/jvectormap/jquery-jvectormap-1.2.2.css">
<!--  <link rel="stylesheet" href="../plugins/datepicker/datepicker3.css">-->
<!--  <link rel="stylesheet" href="../plugins/daterangepicker/daterangepicker.css">-->
  <link rel="stylesheet" href="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
  <link rel="stylesheet" href="../plugins/datatables/dataTables.bootstrap.css">
  <link rel="stylesheet" href="../plugins/treeTable/jquery.treetable.css">
  <link rel="stylesheet" href="../plugins/treeTable/jquery.treetable.theme.default.css">
  <link rel="stylesheet" href="../plugins/select2/select2.css">
  <link rel="stylesheet" href="../plugins/colorpicker/bootstrap-colorpicker.min.css">
  <link rel="stylesheet" href="../plugins/bootstrap-markdown/css/bootstrap-markdown.min.css">
  <link rel="stylesheet" href="../plugins/adminLTE/css/AdminLTE.css">
  <link rel="stylesheet" href="../plugins/adminLTE/css/skins/_all-skins.min.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../plugins/ionslider/ion.rangeSlider.css">
  <link rel="stylesheet" href="../plugins/ionslider/ion.rangeSlider.skinNice.css">
  <link rel="stylesheet" href="../plugins/bootstrap-slider/slider.css">
<!--  <link rel="stylesheet" href="../plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.css">-->
<!--  <link rel="stylesheet" href="../plugins/bootstrap-fileinput-master/css/fileinput.min.css">-->



  <link rel="stylesheet" href="../plugins/angularjs/pagination.css">
  <link rel="stylesheet" href="../plugins/select2/select2-bootstrap.css">



</head>

<body class="hold-transition skin-purple-light sidebar-mini" ng-app="ihospital" ng-controller="patientController" ng-cloak ng-init="showLoginName()">


<div class="wrapper">

  <!-- 页面头部 -->


  <header class="main-header">
    <!-- Logo -->
    <a href="#" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"><b>OS</b></span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b>Outpatient System</b></span>
    </a>


    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">

      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>

      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav">


          <!-- User Account: style can be found in dropdown.less -->
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <img src="../img/user2-160x160.jpg" class="user-image" alt="User Image">
              <span class="hidden-xs">{{loginName}}</span>
            </a>
            <ul class="dropdown-menu">
              <!-- User image -->
              <li class="user-header">
                <img src="../img/user2-160x160.jpg" class="img-circle" alt="User Image">

                <p>
                  Administrator
                  <small></small>
                </p>
              </li>
              <!-- Menu Body
      <li class="user-body">
          <div class="row">
              <div class="col-xs-4 text-center">
                  <a href="#">Followers</a>
              </div>
              <div class="col-xs-4 text-center">
                  <a href="#">Sales</a>
              </div>
              <div class="col-xs-4 text-center">
                  <a href="#">Friends</a>
              </div>
          </div>
      </li>-->
              <!-- Menu Footer-->
              <li class="user-footer">
                <div class="pull-left">
                  <a href="#" class="btn btn-default btn-flat">Setting</a>
                </div>
                <div class="pull-right">
                  <a href="../logout" class="btn btn-default btn-flat">Log out</a>
                </div>
              </li>
            </ul>
          </li>

        </ul>
      </div>
    </nav>
  </header>


  <!-- 页面头部 /-->

  <!-- 导航侧栏 -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
      <div class="user-panel">
        <div class="pull-left image">
          <img src="../img/user2-160x160.jpg" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info">
          <p>{{loginName}}</p>
          <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
        </div>
      </div>
      <!-- search form -->
      <!--<form action="#" method="get" class="sidebar-form">
  <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="搜索...">
      <span class="input-group-btn">
      <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
      </button>
    </span>
  </div>
</form>-->
      <!-- /.search form -->


      <!-- sidebar menu: : style can be found in sidebar.less -->
      <ul class="sidebar-menu">
        <li class="header">Menu</li>

        <li id="admin-index"><a href="all-administrator-departmenttable.html"><i class="fa fa-hospital-o"></i> <span>Department</span></a>
        </li>
        <li id="admin-index"><a href="all-administrator-doctortable.html"><i class="fa fa-user-md"></i>
          <span>Doctor</span></a></li>
        <li id="admin-index"><a href="all-administrator-patienttable.html"><i class="fa fa-user"></i>
          <span>Patient</span></a></li>
        <li id="admin-index"><a href="all-administrator-commenttable.html"><i class="fa fa-list"></i>
          <span>Comment</span></a></li>
        <li id="admin-index"><a href="all-administrator-drugtable.html"><i class="fa fa-plus-square"></i>
          <span>Drug</span></a></li>
        <li id="admin-index"><a href="all-administrator-medicalrecordtable.html"><i class="fa fa-stethoscope"></i>
          <span>Medical Record</span></a></li>
        <li id="admin-index"><a href="all-administrator-newstable.html"><i class="fa fa-newspaper-o"></i>
          <span>News</span></a></li>


        <!-- 菜单 -->


        <!-- 菜单 /-->


      </ul>
    </section>
    <!-- /.sidebar -->
  </aside>
  <!-- 导航侧栏 /-->

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Patient Management
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
        <li><a href="#">Administrator</a></li>
        <li class="active">Patient Management</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">

      <!-- .box-body -->
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">List</h3>
        </div>

        <div class="box-body">

          <!-- 数据表格 -->
          <div class="table-box">

            <!--工具栏-->
            <div class="pull-left">
              <div class="form-group form-inline">
                <div class="btn-group">

                  <button type="button" class="btn btn-default" data-toggle="modal" data-target="#NewModal" ng-click="initForm()"><i
                      class="fa fa-file-o"></i> New
                  </button>
                  <button type="button" class="btn btn-default" ng-click="deletePatient()"><i
                      class="fa fa-trash-o"></i> Delete
                  </button>

                  <button type="button" class="btn btn-default" onclick="window.location.reload();"><i
                      class="fa fa-refresh"></i> Refresh
                  </button>
                </div>
              </div>
            </div>
            <div class="box-tools pull-right">
              <div class="form-group form-inline">
                <input type="text" class="form-control input" placeholder="search Phone" ng-model="searchEntity.phoneNumber">
                <input type="text" class="form-control input" placeholder="search name" ng-model="searchEntity.patientName">
                <button type="button" class="btn btn-default" ng-click="reloadList()">Go</button>
              </div>


            </div>

          </div>


          <!--工具栏/-->

          <!--数据列表-->
          <table id="dataList" class="table table-bordered table-striped table-hover dataTable">
            <thead>
            <tr>
              <th class="" style="padding-right:0px;">

              </th>


              <th class=>Id</th>
              <th class=>Name</th>
              <th class=>Sex</th>
              <th class=>Age</th>
              <th class=>Phone</th>
              <th class=>Idcard</th>
              <th class=>Status</th>
              <th class="text-center">Operation</th>

            </tr>
            </thead>
            <tbody>
            <!-- https://blog.csdn.net/u012396955/article/details/72793906  动态改样式  -->
            <tr ng-repeat="entity in list">
              <td><input  type="checkbox" ng-click="updateSelection($event ,entity.patientId)"></td>
              <td>
                {{entity.patientId}}
              </td>
              <td>{{entity.patientName}}</td>
<!--              三目运算符-->
<!--              <td>{{entity.patientGender == ture ? 'Male':'Female'}}</td>-->
              <td>{{entity.patientGenderStr}}</td>
              <td>{{entity.patientAge}}</td>
              <td>{{entity.phoneNumber}}</td>
              <td>{{entity.idcard}}</td>
<!--              ng-class="{'red':num,'green':!num} ng-class="{red:v.age>30}" class="label label-primary" 动态改样式实现-->
              <td><span ng-class="{'label label-primary':entity.utype=='Approved','label label-danger':entity.utype!='Approved'}">{{entity.utype}}</span></td>
              <td class="text-center">
                <button type="button" class="btn bg-olive btn-xs" ng-click="reversePatient(entity.patientId)">Reverse</button>
              </td>
            </tr>


            </tbody>


            <!--
                <tfoot>
                <tr>
                <th>Rendering engine</th>
                <th>Browser</th>
                <th>Platform(s)</th>
                <th>Engine version</th>
                <th>CSS grade</th>
                </tr>
                </tfoot>-->
          </table>
          <!--数据列表/-->


        </div>
        <!-- 数据表格 /-->
        <tm-pagination conf="paginationConf"></tm-pagination>

      </div>
      <!-- /.box-body -->

      <!-- .box-footer-->

      <!-- /.box-footer-->

    </section>
  </div>


  <!-- /.content -->


</div>
<!-- /.content-wrapper -->


<!-- 底部导航 -->
<footer class="main-footer">
  <div class="pull-right hidden-xs">
    <b>Version</b> 1.0.0
  </div>
  <strong>Copyright &copy; 2019 Team Nine </a>.</strong> All rights reserved.
</footer>
<!-- 底部导航 /-->

</body>
<div class="modal fade" id="NewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ">
  <div class="modal-dialog">
    <div class="modal-content">
<form name="patientForm"  novalidate>
      <div class="modal-header">
<!--        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>-->
        <h3 id="myModalLabel">New Patient</h3>
      </div>
      <div class="modal-body">

        <table class="table table-bordered table-striped" width="800px">
          <tr>
            <td>Name</td>
            <td>
              <input name="name" class="form-control" placeholder="Patient Name" ng-model="entity.patientName"  ng-pattern="/^[\u4E00-\u9FA5A-Za-z\s]+(·[\u4E00-\u9FA5A-Za-z]+)*$/" required>
              <p ng-show="patientForm.name.$invalid && !patientForm.name.$pristine" class="help-block">Wrong Input</p>

            </td>
          </tr>
          <tr>
            <td>Age</td>
            <td>
              <input name="age" class="form-control" placeholder="Patient Age" ng-model="entity.patientAge"ng-pattern="/^(?:[1-9][0-9]?|1[01][0-9]|120)$/" required >
              <p ng-show="patientForm.age.$invalid && !patientForm.age.$pristine " class="help-block">Wrong Input</p>
            </td>
          </tr>
          <tr>
            <td>Sex</td>
            <!--  https://segmentfault.com/a/1190000007567520 anjularjs和下拉框 -->
            <td>
<!--              <select class="form-control" ng-model="entity.patientGenderStr">-->
<!--                <option>Male</option>-->
<!--                <option>Female</option>-->
<!--              </select>-->
<!--              <input select2 config="sexList"  select2-model="entity.patientGenderStr" class="form-control" placeholder="Sex">-->
              <input type="radio" ng-model="entity.patientGenderStr" value="Male">Male
              <input type="radio" ng-model="entity.patientGenderStr" value="Female">Female
            </td>

          </tr>
          <tr>
            <td>Idcard</td>
            <td>
              <input name="idcard" class="form-control" placeholder="Patient Idcard" ng-model="entity.idcard" ng-pattern="/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}$)/" required>
              <p ng-show="patientForm.idcard.$invalid && !patientForm.idcard.$pristine" class="help-block">Wrong Input</p>

            </td>

          </tr>
          <tr>
            <td>Phone</td>
            <td>
              <input name="phone" class="form-control" placeholder="Patient Phone"ng-model="entity.phoneNumber" ng-pattern="/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/" required >
              <p ng-show="patientForm.phone.$invalid && !patientForm.phone.$pristine" class="help-block">Wrong Input</p>
            </td>
          </tr>
          <tr>
            <td>Status</td>
            <td>
              <input type="radio" ng-model="entity.utype" value="Approved">Approved
              <input type="radio" ng-model="entity.utype" value="Denied">Denied
            </td>
          </tr>

          <!-- 图片上传参考如果不行的话就使用老方法 https://blog.csdn.net/maple980326/article/details/51828802
  https://www.cnblogs.com/kevin19900306/p/5459859.html  https://www.google.com/search?q=anjularjs%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8bootstrapFileinput&ie=utf-8  -->
          <tr>

            <td>

              Picture
            </td>
            <td>

              <input name="picture" type="file" id="file" class="file" />

            </td>


          </tr>
          <tr>
            <td>
              Show
            </td>
            <td><img src="{{entity.userAvatar}}" width="200px" height="200px">

              <button class="btn btn-primary" type="button" ng-click="uploadFile()">
                Upload
              </button>
            </td>
          </tr>

        </table>

      </div>
      <div class="modal-footer">
<!--        <button class="btn btn-success" data-dismiss="modal" aria-hidden="true" type="submit" ng-click="addPatient()" >Save</button>-->
        <button class="btn btn-success" data-dismiss="modal" aria-hidden="true" type="submit" ng-click="addPatient()" ng-disabled="patientForm.$invalid" >Save</button>
        <button class="btn btn-default" data-dismiss="modal" aria-hidden="true" ng-click="resetFile()">Close</button>
      </div>
</form>
    </div>
  </div>
</div>


<script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="../plugins/jQueryUI/jquery-ui.min.js"></script>
<script>
  $.widget.bridge('uibutton', $.ui.button);
</script>
<script src="../plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="../plugins/raphael/raphael-min.js"></script>
<script src="../plugins/morris/morris.min.js"></script>
<script src="../plugins/sparkline/jquery.sparkline.min.js"></script>
<script src="../plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="../plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<script src="../plugins/knob/jquery.knob.js"></script>
<!--<script src="../plugins/daterangepicker/moment.min.js"></script>-->
<!--<script src="../plugins/daterangepicker/daterangepicker.js"></script>-->
<!--<script src="../plugins/daterangepicker/daterangepicker.zh-CN.js"></script>-->
<!--<script src="../plugins/datepicker/bootstrap-datepicker.js"></script>-->
<!--<script src="../plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js"></script>-->
<script src="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<script src="../plugins/slimScroll/jquery.slimscroll.min.js"></script>
<script src="../plugins/fastclick/fastclick.js"></script>
<script src="../plugins/iCheck/icheck.min.js"></script>
<script src="../plugins/adminLTE/js/app.min.js"></script>
<script src="../plugins/treeTable/jquery.treetable.js"></script>
<script src="../plugins/colorpicker/bootstrap-colorpicker.min.js"></script>
<!--<script src="../plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.zh-CN.js"></script>-->
<script src="../plugins/bootstrap-markdown/js/bootstrap-markdown.js"></script>
<script src="../plugins/bootstrap-markdown/locale/bootstrap-markdown.zh.js"></script>
<script src="../plugins/bootstrap-markdown/js/markdown.js"></script>
<script src="../plugins/bootstrap-markdown/js/to-markdown.js"></script>
<script src="../plugins/ckeditor/ckeditor.js"></script>
<script src="../plugins/input-mask/jquery.inputmask.js"></script>
<script src="../plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="../plugins/input-mask/jquery.inputmask.extensions.js"></script>
<script src="../plugins/datatables/jquery.dataTables.min.js"></script>
<script src="../plugins/datatables/dataTables.bootstrap.min.js"></script>
<script src="../plugins/chartjs/Chart.min.js"></script>
<script src="../plugins/flot/jquery.flot.min.js"></script>
<script src="../plugins/flot/jquery.flot.resize.min.js"></script>
<script src="../plugins/flot/jquery.flot.pie.min.js"></script>
<script src="../plugins/flot/jquery.flot.categories.min.js"></script>
<script src="../plugins/ionslider/ion.rangeSlider.min.js"></script>
<script src="../plugins/bootstrap-slider/bootstrap-slider.js"></script>
<!--<script src="../plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>-->
<!--<script src="../plugins/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>-->
<!--<script src="../plugins/bootstrap-fileinput-master/js/fileinput.min.js"></script>-->
<!--<script src="../plugins/bootstrap-fileinput-master/js/fileinput.min.js"></script>-->
<!--<script src="../plugins/bootstrap-fileinput-master/themes/fa/theme.min.js"></script>-->
<script type="text/javascript" src="../plugins/angularjs/angular.min.js"></script>
<script src="../plugins/angularjs/pagination.js"></script>
<script src="../js/base_pagination.js"></script>
<script src="../plugins/select2/select2.min.js"></script>
<script src="../js/angular-select2.js"></script>
<script src="../js/service/loginService.js"></script>
<script src="../js/service/patientService.js"></script>
<script src="../js/service/uploadService.js"></script>
<script src="../js/controller/baseController.js"></script>
<script src="../js/controller/patientController.js"></script>


<script>
  $("#file").fileinput();
  // 选择框
  $(document).ready(function () {

    $("#file").fileinput();
    // 选择框



  });


  // 设置激活菜单
  function setSidebarActive(tagUri) {
    var liObj = $("#" + tagUri);
    if (liObj.length > 0) {
      liObj.parent().parent().addClass("active");
      liObj.addClass("active");
    }
  }


  $(document).ready(function () {
    setSidebarActive("admin-blank");
  });



</script>
</body>

</html>